
<ion-header>
  <ion-navbar>
    <ion-title>Registration</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form  role="form" #registrationForm="ngForm" (ngSubmit)="onSubmit(registrationForm)" novalidate>

  <ion-list>
    
    <ion-item>
      <ion-label floating>Username</ion-label>
      <ion-input type="text" name="username" [(ngModel)]="details.username" #username="ngModel" required></ion-input>
    </ion-item>
    <small translate [hidden]="username.valid || (!username.touched && !registrationForm.submitted)" class="text-danger">
      Username is required
    </small>
    <ion-item>
      <ion-label floating>Email</ion-label>
      <ion-input type="text" 
      name="email" [(ngModel)]="details.email" #email="ngModel" required></ion-input>
    </ion-item>
    <small translate [hidden]="email.valid || (!email.touched && !registrationForm.submitted)" class="text-danger">
      {{
        email.errors?.pattern
        ? "Enter a valid email address"
        : "Email is required"
        }}
    </small>
    <ion-item>
      <ion-label floating>Phone</ion-label>
      <ion-input pattern="^[0-9]{11,}$" type="text" name="phone" [(ngModel)]="details.phone" #phone="ngModel" required></ion-input>
    </ion-item>
    <small translate [hidden]="phone.valid || (!phone.touched && !registrationForm.submitted)" class="text-danger">
      {{
        phone.errors?.pattern
        ? "Enter a valid phone address with minimum 11 digit"
        : "Phone is required"
        }}
    </small>
    <ion-item>
      <ion-label floating>Password</ion-label>
      <ion-input type="password" name="password" [(ngModel)]="details.password" #password="ngModel" required
      pattern=".{8,}$" ></ion-input>
    </ion-item>
    <small translate [hidden]="password.valid || (!password.touched && !registrationForm.submitted)" class="text-danger">
      {{password.errors?.pattern ? 'Password must be minimum 8 characters long.' : 'Required field'}}
    </small>
    <ion-item>
      <ion-label floating>Confirm Password</ion-label>
      <ion-input type="password" name="confirmPassword" [(ngModel)]="details.confirmPassword"
      #confirmPassword="ngModel" required></ion-input>
    </ion-item>
    <small [hidden]="!confirmPassword.touched || details.confirmPassword===details.password" class="text-danger" translate>
      Password doesn't match
    </small>
  
  </ion-list>
  <div padding>
    <button block type="submit">Register</button>
    <button block (click)="goToLogin()">Login</button>
  </div>
</form>
</ion-content>
